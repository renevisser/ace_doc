<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Quickstart &#8212; User Manual 2025a documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=c058f7c8" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=28445a45" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/my_styles.css?v=b6557435" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=64635090" />
    <script src="../_static/documentation_options.js?v=5e98d239"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <link rel="icon" href="../_static/ace_32x32_small.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Goal of optimization" href="objective.html" />
    <link rel="prev" title="CDH/ACE User manual" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ace_logo_html.png" alt="Logo of User Manual"/>
            </a></p>
<h1 class="logo"><a href="../index.html">User Manual</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#verify-the-installation">Verify the installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#access-the-documentation">Access the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-a-new-ace-project-run">Setup a new ace project/run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-of-ace-project-file">Configuration of ace project file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-ace-run">Starting the ace run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="objective.html">Goal of optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_commands.html">Commands and modes of operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_project.html">Setup a new ACE project</a></li>
<li class="toctree-l1"><a class="reference internal" href="ace_file.html">ACE project file</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_output.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="supported_cards.html">Supported Nastran cards</a></li>
<li class="toctree-l1"><a class="reference internal" href="abbreviations.html">Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact support</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_pdf.html">Download pdf versions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">CDH/ACE User manual</a></li>
      <li>Next: <a href="objective.html" title="next chapter">Goal of optimization</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Link to this heading">¶</a></h1>
<p>This is the quickstart guide intended for users that are to some extend familiar
with the philosophy and options of the CDH/ACE software and just want to have a
quick look on how to setup a run in ACE. For a more detailed description,
reference is made to for example the <a class="reference internal" href="introduction.html#introduction"><span class="std std-ref">introduction</span></a> section of the user manual. For more examples
on how to setup different types of runs in ACE the example manual should be
consulted (<strong>*EXTERNAL REF EXAMPLE MANUAL?). At this point it is assumed the
|ace| software has been successfully installed and is accessible through the
command ``ace``. For the installation process itself reference is made to the
dedicated installation manual (**REF installation manual</strong>).</p>
<section id="verify-the-installation">
<h2>Verify the installation<a class="headerlink" href="#verify-the-installation" title="Link to this heading">¶</a></h2>
<p>To verify that everything has been setup properly, perform following license
check using the <code class="docutils literal notranslate"><span class="pre">license</span></code> mode / sub-command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># hint: to access a specific version, use for example &quot;ace_2024d&quot; instead of &quot;ace&quot;</span>
ace<span class="w"> </span>license<span class="w"> </span>-c
</pre></div>
</div>
<p>This should show the validity of the license and the number of days until expiry.</p>
<p>To see what python packages and their versions are available to ACE the
following command can be issued:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># query available (opensource) packages and their versions</span>
ace<span class="w"> </span>license<span class="w"> </span>-o
</pre></div>
</div>
<p>In many cases, ACE command options can also be combined to perform multiple
operations at the same time:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># perform license check (-c) and query available packages and their versions (-o)</span>
ace<span class="w"> </span>license<span class="w"> </span>-c<span class="w"> </span>-o

<span class="c1"># or, even more compact:</span>
ace<span class="w"> </span>license<span class="w"> </span>-co
</pre></div>
</div>
<p>which results in both license and package information. In case any error
occurs, likely the installation has not been completed successfully or the
license has expired (see installation manual for help).</p>
</section>
<section id="access-the-documentation">
<h2>Access the documentation<a class="headerlink" href="#access-the-documentation" title="Link to this heading">¶</a></h2>
<p>Accessing usage help or the full documenation can be done directly through the
<code class="docutils literal notranslate"><span class="pre">ace</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># the ace command and the sub-commands provide usage help with &quot;-h&quot; (or &quot;--help&quot;&quot;)</span>
ace<span class="w"> </span>-h
</pre></div>
</div>
<p>The sub-command <code class="docutils literal notranslate"><span class="pre">doc</span></code> gives access to the full documentation as well as
some reference jobs for the the tutorials from the example manual.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># show usage help on the &quot;doc&quot; sub-command</span>
ace<span class="w"> </span>doc<span class="w"> </span>-h
</pre></div>
</div>
<p>should result in something similar to:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>========================================================================
                             ACE 2025.006e
                  Autonomous Computational Experiments
========================================================================
                    Visit us: https://www.cdh-ag.com
                 Contact us: mailto:support@cdh-ag.com
                 Copyright CDH AG. All rights reserved.
========================================================================

usage: ace doc [-h] [-o] [-c] [-e EXTRACT_EXAMPLE]

options:
  -h, --help            show this help message and exit
  -o, --open            Open main documentation (html)
  -c, --copy            Get a local copy of the documentation (html/pdf)
  -e EXTRACT_EXAMPLE, --extract_example EXTRACT_EXAMPLE
                        Extract / get example Nastran model for tutorial
                        (example manual)
</pre></div>
</div>
<p>To open the full documentation <code class="docutils literal notranslate"><span class="pre">ace</span> <span class="pre">doc</span> <span class="pre">-o</span></code> is available on linux native
platforms, alternatively a local copy of the manual can be obtained by invoking
<code class="docutils literal notranslate"><span class="pre">ace</span> <span class="pre">doc</span> <span class="pre">-c</span></code>. For further details, reference is made to the <a class="reference internal" href="usage_commands.html#sub-command-doc"><span class="std std-ref">doc
sub-command</span></a> description.</p>
</section>
<section id="setup-a-new-ace-project-run">
<h2>Setup a new ace project/run<a class="headerlink" href="#setup-a-new-ace-project-run" title="Link to this heading">¶</a></h2>
<p>To quickly setup a new ACE project, a valid Nastran-based reference input
deck (job) needs to provided that is intended as subject of investigation (of
course also an CDH/Optran or Altair/Optistruct job can be used).</p>
<p>Logically, the ACE <code class="docutils literal notranslate"><span class="pre">new</span></code> command mode should be used to setup a new project.
Some brief usage information can be obtained using option <code class="docutils literal notranslate"><span class="pre">-h</span></code> or equivalently
using <code class="docutils literal notranslate"><span class="pre">--help</span></code>.</p>
<p>The Nastran input deck must be specified using the <code class="docutils literal notranslate"><span class="pre">-r</span></code>
option, in the example below, “example_model.nas” is assumed.
Furthermore, a name for the ACE project / run needs to be defined using input
option <code class="docutils literal notranslate"><span class="pre">-n</span></code>. Note that be default the project name will be appended with the
suffix <code class="docutils literal notranslate"><span class="pre">_ace</span></code> to explicitly indicate the directory as being an ACE project
directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># quick usage help on ace its &quot;new&quot; mode using &quot;-h&quot; or &quot;--help&quot;</span>
ace<span class="w"> </span>new<span class="w"> </span>-h

<span class="c1"># setup a new ace project based on an existing Nastran-flavor reference input deck</span>
ace<span class="w"> </span>new<span class="w"> </span>-r<span class="w"> </span>example_model.nas<span class="w"> </span>-n<span class="w"> </span>my_project

<span class="c1"># alternatively, more explicit (&quot;=&quot; sign is optional):</span>
ace<span class="w"> </span>new<span class="w"> </span>--reference<span class="o">=</span>example_model.nas<span class="w"> </span>--name<span class="o">=</span>my_project

<span class="c1"># note that the project name automatically is appended with suffix &quot;_ace&quot;</span>
</pre></div>
</div>
<p>This should result in a new project named <code class="docutils literal notranslate"><span class="pre">my_project_ace</span></code>.
Note that more options are available for the <code class="docutils literal notranslate"><span class="pre">ace</span> <span class="pre">new</span></code> mode. For example if an
input deck would contain non-ASCII characters, specification of the text
encoding to be applied should be provided using the <code class="docutils literal notranslate"><span class="pre">--encoding</span></code> option.
For input decks that contain German characters the appropriate encoding would be
<code class="docutils literal notranslate"><span class="pre">latin1</span></code>, whereas for input deck with Japanes characters the <code class="docutils literal notranslate"><span class="pre">shift-jis</span></code>
encoding should be applied.
Further details on setting up a new project can be found in section <a class="reference internal" href="usage_commands.html#sub-command-new"><span class="std std-ref">sub-command new</span></a>
and in section <a class="reference internal" href="setup_project.html#setup-a-new-ace-project"><span class="std std-ref">setup a new ace project</span></a></p>
</section>
<section id="configuration-of-ace-project-file">
<h2>Configuration of ace project file<a class="headerlink" href="#configuration-of-ace-project-file" title="Link to this heading">¶</a></h2>
<p>In the newly generated project directory, a so-called project template file
(extension <code class="docutils literal notranslate"><span class="pre">*.ace</span></code>) is available to configure the purpose and settings
of the upcoming ACE investigation/run. This section only briefly touches the
main contents of the project file, further information and details on the file
format can be found in section <a class="reference internal" href="ace_file.html#ace-project-file"><span class="std std-ref">ACE project file</span></a>.</p>
<p>The first section in the project file is used to define what experiment
parameters (also referred to as features or design variables) should be modified
in the ace run.  Typically these features consist of certain fields of solver
cards, e.g. thickness T of PSHELL cards. Once these features are defined the
allowable amount of variation and the type of variation (continuous, discrete,
relative, absolute) is specified. As described in section <a class="reference internal" href="ace_file.html#experiment-parameters-features"><span class="std std-ref">experiment
parameters</span></a>, this is a fairly
self-explaining and straightforward process of adjusting the automatically
generated example entries. For illustration, a simple example of setting up 3
PSHELL features with +/-50% variation of their thickness is given by:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># select thickness of 3 pshell cards:</span>
<span class="n">pshell_t_example</span> <span class="o">=</span> <span class="n">card</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;PSHELL&#39;</span><span class="p">,</span> <span class="n">ids</span><span class="o">=</span><span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>

<span class="c1"># define relative range +/-50% (relative to initial baseline value):</span>
<span class="n">range_50pct</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;rel&#39;</span><span class="p">)</span>

<span class="c1"># setup 3 pshell experiment parameters (features):</span>
<span class="n">param_pshell_t</span> <span class="o">=</span> <span class="n">param</span><span class="p">(</span><span class="n">card</span><span class="o">=</span><span class="n">pshell_t_example</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="n">range_50pct</span><span class="p">)</span>

<span class="c1"># activate/select experiment parameters using a list:</span>
<span class="n">params_to_activate</span> <span class="o">=</span> <span class="p">[</span><span class="n">param_pshell_t</span><span class="p">]</span>
<span class="n">activate</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="n">params_to_activate</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, the response results which need to be extracted from the Nastran pch file should be
specified in the <code class="docutils literal notranslate"><span class="pre">results_extracter</span></code> part of the file.
This is simply done by defining one or more result unique identifiers <code class="docutils literal notranslate"><span class="pre">res_id</span></code> and specify the
response its <code class="docutils literal notranslate"><span class="pre">subcase_id</span></code>, <code class="docutils literal notranslate"><span class="pre">node_id</span></code>, <code class="docutils literal notranslate"><span class="pre">quantity</span></code> and the degree of freedom <code class="docutils literal notranslate"><span class="pre">dof</span></code> as shown in the following example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The request format should be a python list containing dictionaries, e.g. [{...}, {...}]</span>
<span class="n">results_extractor</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;subcase_id&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;node_id&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;DISP&#39;</span><span class="p">,</span> <span class="s1">&#39;dof&#39;</span><span class="p">:</span> <span class="s1">&#39;MAG&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;subcase_id&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;node_id&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="s1">&#39;dof&#39;</span><span class="p">:</span> <span class="s1">&#39;P&#39;</span><span class="p">},</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>Note that for the degree of freedom also the invariants <code class="docutils literal notranslate"><span class="pre">MAG</span></code> for translation
and <code class="docutils literal notranslate"><span class="pre">RMAG</span></code> for rotation are available which typically result in more robust
optimization results compared to using an individual directions like e.g. <code class="docutils literal notranslate"><span class="pre">Z</span></code>.
More complex examples, e.g. selection of ERP panels or random analysis with
PSDF output can be found in section <a class="reference internal" href="ace_file.html#response-extraction-and-monitoring"><span class="std std-ref">Response extraction and monitoring</span></a>.</p>
<p>Furthermore it is often useful to perform a robustness study or optimization for
more than a single response location, e.g. typically the sound pressure level
should be optimized for all ear positions instead of only the driver ear.  In
such cases it is extremely useful to combine these individual responses into a
so-called “composed” response using the <code class="docutils literal notranslate"><span class="pre">result_evaluator</span></code> functionality.
This is explained in the following example where 4 pressure responses from 2
subcases are combined to a new evaluated response that respresents the maximum
envelop over them:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The request format should be a python list containing dictionaries, e.g. [{...}, {...}]</span>
<span class="c1"># Select some primary results (must be available in the pch file):</span>
<span class="n">results_extractor</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;subcase_id&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;node_id&#39;</span><span class="p">:</span> <span class="mi">1010</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="s1">&#39;dof&#39;</span><span class="p">:</span> <span class="s1">&#39;P&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;subcase_id&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;node_id&#39;</span><span class="p">:</span> <span class="mi">1020</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="s1">&#39;dof&#39;</span><span class="p">:</span> <span class="s1">&#39;P&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;subcase_id&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;node_id&#39;</span><span class="p">:</span> <span class="mi">1010</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="s1">&#39;dof&#39;</span><span class="p">:</span> <span class="s1">&#39;P&#39;</span><span class="p">},</span>
    <span class="c1"># note: it is not required to have successive res_id&#39;s (e.g. skip id 4)</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;subcase_id&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;node_id&#39;</span><span class="p">:</span> <span class="mi">1020</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;PRES&#39;</span><span class="p">,</span> <span class="s1">&#39;dof&#39;</span><span class="p">:</span> <span class="s1">&#39;P&#39;</span><span class="p">},</span>
    <span class="p">]</span>

<span class="c1"># combine/compose the 4 partial responses using max and rms functions</span>
<span class="n">results_evaluator</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># create the max envelope and the rms envelope from 4 partial responses</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;expression&#39;</span><span class="p">:</span> <span class="s1">&#39;max($</span><span class="si">{res_id1}</span><span class="s1">, $</span><span class="si">{res_id2}</span><span class="s1">, $</span><span class="si">{res_id3}</span><span class="s1">, $</span><span class="si">{res_id5}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;p_max&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span> <span class="s1">&#39;expression&#39;</span><span class="p">:</span> <span class="s1">&#39;rms($</span><span class="si">{res_id1}</span><span class="s1">, $</span><span class="si">{res_id2}</span><span class="s1">, $</span><span class="si">{res_id3}</span><span class="s1">, $</span><span class="si">{res_id5}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;p_rms&#39;</span><span class="p">},</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>This created 2 new composed responses with id 1000 and 2000 by evaluation of the specified expression.
Many more mathematical functions and operations are possible as described in
section <a class="reference internal" href="ace_file.html#response-evaluation-and-composing"><span class="std std-ref">Response evaluation and composing</span></a>.</p>
<p>To use a selected response (<code class="docutils literal notranslate"><span class="pre">res_id</span></code>) for e.g. optimization, a target must be
defined in the <code class="docutils literal notranslate"><span class="pre">target_settings</span></code> section.
For simplicity, the evaluated response with res_id 1000 (max over 4 pressure
responses) is minimized in a single-target optimization run:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ================================================================================</span>
<span class="c1"># Target settings (ML optimization)</span>
<span class="c1"># ================================================================================</span>
<span class="c1"># Define target per node/quantity:</span>
<span class="n">target_settings</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;goal&#39;</span><span class="p">:</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span>  <span class="c1"># minimize response below target curve</span>
     <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;curve&#39;</span><span class="p">,</span>  <span class="c1"># target is defined by a curve</span>
     <span class="s1">&#39;weighting_func&#39;</span><span class="p">:</span> <span class="s1">&#39;None&#39;</span><span class="p">,</span>  <span class="c1"># skip acoustic weighting (e.g. A-weighting)</span>
     <span class="s1">&#39;scaling_amp&#39;</span><span class="p">:</span> <span class="s1">&#39;dB&#39;</span><span class="p">,</span> <span class="c1"># use dB scaling instead of standard linear scaling</span>
     <span class="s1">&#39;target_val&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">20.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">200.</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">)],</span> <span class="c1"># define target curve by points (x,y)</span>
     <span class="s1">&#39;res_id&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>  <span class="c1"># apply this target to specified result ID</span>
    <span class="p">},</span>  <span class="c1"># repeat this block to define multiple targets</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>This would define a target curve that has a constant value of 50.0dB up to
20.0Hz and then would lineary fall-of to a value of 30.0dB at 200.0Hz.
Many more
options to control target settings are available in section
<a class="reference internal" href="ace_file.html#specification-of-target-and-objective"><span class="std std-ref">Specification of target and objective</span></a>.</p>
<p>By now, the optimization problem has been fully defined. The remaining part of
the project file controls things like how to submit CAE job into a potential
queuing system and provides option to embed custom plugins into the ACE
learning cycle. Finally, the file section <code class="docutils literal notranslate"><span class="pre">exp_settings</span></code> controls how the
initial design of experiments (DOE) should be setup and what optional machine
learning settings should be applied during the optimization and/or robustness
study run.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ================================================================================</span>
<span class="c1"># General experiment / ace settings (ACE run)</span>
<span class="c1"># ================================================================================</span>
<span class="n">exp_settings</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;sampling_type&#39;</span><span class="p">:</span> <span class="s1">&#39;lhs&#39;</span><span class="p">,</span>  <span class="c1"># sampling approach for initial DOE (lhs, univar, fullfactorial, random) (overruled by command line option &quot;-s&quot;)</span>
     <span class="s1">&#39;n_samples_per_feature&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="c1"># number of samples/experiments per feature for initial DOE (overruled by command line option &quot;-n&quot;)</span>
     <span class="s1">&#39;n_samples_per_batch&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;random&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                             <span class="s1">&#39;distance&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                             <span class="s1">&#39;trace&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                             <span class="s1">&#39;neighborhood&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                             <span class="s1">&#39;ranking&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                             <span class="s1">&#39;clustering&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                             <span class="s1">&#39;worstcase&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                             <span class="s1">&#39;robustness_baseline&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                             <span class="p">},</span>  <span class="c1"># number of samples per ML batch (irrelevant for initial DOE batch00)</span>
     <span class="s1">&#39;n_batches_max&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>  <span class="c1"># maximum allowed number of ML batches (overruled by command line option &quot;-b&quot;)</span>
     <span class="s1">&#39;n_batches_early_stop&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>  <span class="c1"># early stop ML after number of batches without improvement of optimum</span>
     <span class="s1">&#39;convergence_factor&#39;</span><span class="p">:</span> <span class="mf">1.0E-04</span><span class="p">,</span>  <span class="c1"># stop optimization (converged) if target violation is reduced by this factor (compared to baseline)</span>
     <span class="s1">&#39;n_processes&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>  <span class="c1"># max allowed number of parallel processes to use for ML (more is faster, set -1 to use all cores)</span>
     <span class="s1">&#39;ml_methods&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;linreg&#39;</span><span class="p">,</span> <span class="s1">&#39;svr&#39;</span><span class="p">,</span> <span class="s1">&#39;gpr&#39;</span><span class="p">,</span> <span class="s1">&#39;xgbr&#39;</span><span class="p">,</span> <span class="s1">&#39;lgbr&#39;</span><span class="p">,</span> <span class="s1">&#39;rfr&#39;</span><span class="p">,</span> <span class="s1">&#39;mlpr&#39;</span><span class="p">],</span> <span class="c1"># list of ML methods to use: &#39;LinReg&#39;, &#39;GPR&#39;, &#39;SVR&#39;, &#39;XGBR&#39;, &#39;LGBR&#39;, &#39;RFR&#39;, &#39;MLPR&#39;</span>
     <span class="s1">&#39;robustness_study&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;baseline&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                          <span class="s1">&#39;optimum&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                          <span class="s1">&#39;deviation&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">],</span>
                          <span class="s1">&#39;predictor&#39;</span><span class="p">:</span> <span class="s1">&#39;rfr&#39;</span><span class="p">},</span>  <span class="c1"># settings for robustness analysis plugin</span>
     <span class="c1"># preferable do *not* change following settings unless you know their meaning:</span>
     <span class="s1">&#39;flag_feature_elimination&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># True: allow adaptive elimination of irrelevant features/parameters in ML</span>
     <span class="s1">&#39;flag_feature_remove_empty&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># True: allow automatic removal of empty property cards in DOE (no elements attached)</span>
     <span class="s1">&#39;flag_distance_penalty&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># True: use penalty function to avoid coincident samples</span>
     <span class="c1"># &#39;flag_restart_run&#39;: False  # preferred to use CLI option &quot;--restart&quot;; True: try to perform a restart run based on existing results from previous run;</span>
     <span class="s1">&#39;flag_active&#39;</span><span class="p">:</span> <span class="kc">True</span>  <span class="c1"># True/False: option to (de)activate execution of ML (phase4)</span>
    <span class="p">}</span>
    <span class="p">]</span>  <span class="c1"># ACE DOE/ML experiment settings</span>
</pre></div>
</div>
<p>The default settings for the inital DOE in batch00 are to use a Latin
Hypercube Sampling (LHS) approach (<code class="docutils literal notranslate"><span class="pre">sampling_type</span></code>) with 1 sample per
feature (<code class="docutils literal notranslate"><span class="pre">n_samples_per_feature</span></code>).</p>
<p>For optimization, the default setting is to allow for a maximum total of 8
batches (learning cycles, <code class="docutils literal notranslate"><span class="pre">n_batches_max</span></code>) unless 4 successive batches do not
result in any further improvement (<code class="docutils literal notranslate"><span class="pre">n_batches_early_stop</span></code>) or the convergence
factor has been satisified (<code class="docutils literal notranslate"><span class="pre">convergenc_factor</span></code>).  Generally, it is
recommended to use at least 2 batches, preferably 8, to improve the solution and
benefit from the implemented ML-learning models.</p>
<p>For further details on the extensive options, reference is made to the
section <a class="reference internal" href="ace_file.html#doe-ml-and-ai-settings"><span class="std std-ref">DOE, ML and AI settings</span></a>.</p>
</section>
<section id="starting-the-ace-run">
<h2>Starting the ace run<a class="headerlink" href="#starting-the-ace-run" title="Link to this heading">¶</a></h2>
<p>Once the ACE project file has been configured, starting the ace run is easily
done by invoking the <code class="docutils literal notranslate"><span class="pre">run</span></code> command mode inside the project directory.</p>
<p>Again, some brief usage information can be
obtained using option <code class="docutils literal notranslate"><span class="pre">-h</span></code> or equivalently using <code class="docutils literal notranslate"><span class="pre">--help</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># quick usage help on ace its &quot;run&quot; mode using &quot;-h&quot; or &quot;--help&quot;</span>
ace<span class="w"> </span>run<span class="w"> </span>-h

<span class="c1"># start a fresh (cold) run (must be executed inside project directory)</span>
ace<span class="w"> </span>run<span class="w"> </span>.
</pre></div>
</div>
<p>In practive, especially the command line options <code class="docutils literal notranslate"><span class="pre">-b</span></code> (maximum number of
batches) and <code class="docutils literal notranslate"><span class="pre">-n</span></code> (number of samples per feature) have proven
to be very useful for quickly overriding some of the settings from the project
file.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If starting an ace run for the first time, it is highly recommended
for verification purposes to generate and compute the baseline sample
only using:</p>
<p><code class="docutils literal notranslate"><span class="pre">ace</span> <span class="pre">run</span> <span class="pre">.</span> <span class="pre">--baseline</span></code></p>
<p>(equivalent to: <code class="docutils literal notranslate"><span class="pre">ace</span> <span class="pre">run</span> <span class="pre">.</span> <span class="pre">-b</span> <span class="pre">1</span> <span class="pre">-n</span> <span class="pre">0</span></code> )</p>
<p>which essentially performs a single batch run without any variations apart
from the reference baseline sample. After successful computation of the baseline
job, ACE will generate an image file <code class="docutils literal notranslate"><span class="pre">results/response_doe_batch00.png</span></code>
to verify the target and response.</p>
</div>
<p>In case something went wrong during the ace run, e.g. CAE job submission failed
because no Nastran licenses were available, it is always possible to <strong>restart</strong>
an existing ACE run using the option <code class="docutils literal notranslate"><span class="pre">-r</span></code> or <code class="docutils literal notranslate"><span class="pre">--restart</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># restart an existing ace run using -r or --restart</span>
ace<span class="w"> </span>run<span class="w"> </span>.<span class="w"> </span>--restart

<span class="c1"># also possible add further batches (here 12) once an ace run has completed:</span>
ace<span class="w"> </span>run<span class="w"> </span>.<span class="w"> </span>--restart<span class="w"> </span>-b<span class="w"> </span><span class="m">12</span>
</pre></div>
</div>
<p>This would effectively re-use all available CAE-samples and continue computing
from the point where the previous ACE run failed.
This is also very useful to add some further batches (learning cycles) once an run already has
been completed (re-use existing data).</p>
<p>Finally, to remove all previously generated data from a project directory the
cleaner script can be invoked.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Invoke the <strong>cleaner</strong> script to remove/delete all previously computed data
from a ace run.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># handle with care, all existing result data will be removed</span>
./cleaner
</pre></div>
</div>
</div>
<p>After running the cleaner script, a fresh ace run can be started again without
re-using any information from the previous run.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2025, CDH AG.
      
    </div>

    

    
  </body>
</html>