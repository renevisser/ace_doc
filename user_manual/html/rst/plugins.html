<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Plugins &#8212; User Manual 2025a documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=c058f7c8" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=28445a45" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/my_styles.css?v=b6557435" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=64635090" />
    <script src="../_static/documentation_options.js?v=5e98d239"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="icon" href="../_static/ace_32x32_small.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Supported Nastran cards" href="supported_cards.html" />
    <link rel="prev" title="Results" href="results_output.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ace_logo_html.png" alt="Logo of User Manual"/>
            </a></p>
<h1 class="logo"><a href="../index.html">User Manual</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage_commands.html">Commands and modes of operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_project.html">Setup a new ACE project</a></li>
<li class="toctree-l1"><a class="reference internal" href="ace_file.html">ACE project file</a></li>
<li class="toctree-l1"><a class="reference internal" href="results_output.html">Results</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#robustness-study-plugin">Robustness study plugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#starting-the-plugin">Starting the plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sensitivity">Sensitivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#normalized-sensitivity">Normalized sensitivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#available-options">Available options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="supported_cards.html">Supported Nastran cards</a></li>
<li class="toctree-l1"><a class="reference internal" href="abbreviations.html">Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact support</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_pdf.html">Download pdf versions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="results_output.html" title="previous chapter">Results</a></li>
      <li>Next: <a href="supported_cards.html" title="next chapter">Supported Nastran cards</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="plugins">
<h1>Plugins<a class="headerlink" href="#plugins" title="Link to this heading">¶</a></h1>
<p>To add functionality to the defaults options of ACE, a flexible plugin system
is available to include custom processes/tools. This is useful for in a sense
that customers can add their own company-specific functionality and or include
their in-house tools to the ACE workflow as described in
<a class="reference internal" href="ace_file.html#custom-functionality-external-tools"><span class="std std-ref">section custom functionality</span></a>).</p>
<p>Currently multiple plugins are available for different companies. The most
general applicable plugin is the so-called <strong>robustness-study</strong> module which
will be discussed in this section.</p>
<section id="robustness-study-plugin">
<h2>Robustness study plugin<a class="headerlink" href="#robustness-study-plugin" title="Link to this heading">¶</a></h2>
<p>The ACE robustness study plugin is primarily intended to help on following tasks:</p>
<ul class="simple">
<li><p><strong>response sensitivity</strong>: determine the local uni-variate sensitivity at baseline or optimum</p></li>
<li><p><strong>robustness analysis</strong>: robustness and tolerance analysis for multi-variate disturbances</p></li>
<li><p><strong>response contribution</strong>: identify which features contribute most to reaching the optimum</p></li>
<li><p><strong>rapid FRF prediction</strong>: apply fast frequency response predictions using ML</p></li>
</ul>
<p>The plugin relies on data generated at the end of a standard ACE run.
Internally, it uses a <strong>reduced order modelling (ROM)</strong> aproach based on either
one of the supported machine learning algorithms (default: random forest).
Using resulting ML-based surrogate model, the plugin can make predictions <em>much
faster</em> than conventional CAE analyses, however the predicted responses only
represent approximations to the actual CAE response. Several options are
available to control the behavior of the plugin that are decribed in this
section.</p>
<section id="starting-the-plugin">
<h3>Starting the plugin<a class="headerlink" href="#starting-the-plugin" title="Link to this heading">¶</a></h3>
<p>This plugin can either be run in stand-alone mode from the command line using
the <code class="docutils literal notranslate"><span class="pre">robustness_study</span></code> command, or alternatively, invoked automatically at
the end of an ACE run using the <code class="docutils literal notranslate"><span class="pre">robustness_study</span></code> option in the *.ace
project file (for the latter option also see <a class="reference internal" href="ace_file.html#ml-ai-optimization"><span class="std std-ref">section ML/AI optimization</span></a>). The latter option however does not nearly
offer control over all the available options and is intended just to give a
first indication about sensistivity and robustness, for actual use starting
from the command line is recommended.</p>
<p>In case started from the command line, a brief usage help is available using
option <code class="docutils literal notranslate"><span class="pre">--help</span></code> (or <code class="docutils literal notranslate"><span class="pre">-h</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># usage help function for the robustness command:</span>
robustness_study<span class="w"> </span>--help
</pre></div>
</div>
<p>the output should look similar to:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Robustness Analysis 2024.001 - Robustness Study using ROM

options:
  -h, --help            show this help message and exit
  --dirpath_ace DIRPATH_ACE
                        Path of main ace project folder
  --dirpath_output DIRPATH_OUTPUT
                        Output path for saving results
  -f FILEPATH_STDDEV_CSV, --filepath_stddev_csv FILEPATH_STDDEV_CSV
                        Filepath to csv-file with deviation definitions. If no
                        path is provided or parameter is set to “None”,
                        settings from ace are used.
  --plot_baseline PLOT_BASELINE
                        Whether to create plots for baseline point
  --plot_optimum PLOT_OPTIMUM
                        Whether to create plots for optimum point
  --flag_plot_target FLAG_PLOT_TARGET
                        Whether to plot target function
  --flag_return_detailed_plots FLAG_RETURN_DETAILED_PLOTS
                        Whether to create additional detailed plots
  --zero_mass_normalization_value ZERO_MASS_NORMALIZATION_VALUE
                        Value of mass normalization if feature has no effect
                        on mass or if mass difference is zero
  --lower_xrange_limit LOWER_XRANGE_LIMIT
                        Lower frequency range limit. If “None” is set, lower
                        frequency limit from data is used.
  --upper_xrange_limit UPPER_XRANGE_LIMIT
                        Upper frequency range limit. If “None” is set, upper
                        frequency limit from data is used.
  --scale {linear,dB}   Scale of responses, either &quot;linear&quot; or &quot;dB&quot;.
  --frequency_weighting {a,b,c}
                        Frequency weighting of response (&quot;A&quot;, &quot;B&quot; or &quot;C&quot;).
  --range_dB RANGE_DB   Range of dB scale.
  --ref_dB REF_DB       Reference dB used for scaling the frequency response.
  --flag_energy FLAG_ENERGY
                        Whether response is an energy quantity.
  --flag_csv_output FLAG_CSV_OUTPUT
                        Whether to output results in csv-files.
  --predictor {gpr,rfr,xgbr,mlpr,linreg}
                        Model used for prediction of coefficients.
  --train_scale {linear,dB}
                        Scale of responses for predictor training, either
                        &quot;linear&quot; or &quot;dB&quot;.
  --train_frequency_weighting {a,b,c}
                        Frequency weighting of response (&quot;A&quot;, &quot;B&quot; or &quot;C&quot;) for
                        predictor training.
  --robustness_analysis_n_samples ROBUSTNESS_ANALYSIS_N_SAMPLES
                        Number of samples generated for robustness analysis
  --robustness_analysis_distribution {normal,uniform}
                        Distribution for robustness analysis (&quot;normal&quot; or
                        &quot;uniform&quot;)
  --robustness_analysis_stddev ROBUSTNESS_ANALYSIS_STDDEV
                        Deviation for each feature or field. If only a float
                        is passed, the same value is used for all features. If
                        two values are passed, asymmetric distribution is
                        assumed.
  --robustness_analysis_feature_names ROBUSTNESS_ANALYSIS_FEATURE_NAMES
                        Features for which the analysis is performed
  --robustness_analysis_flag_plot_percentile ROBUSTNESS_ANALYSIS_FLAG_PLOT_PERCENTILE
                        Whether to plot robustness percentiles.
  --robustness_analysis_percentile_value ROBUSTNESS_ANALYSIS_PERCENTILE_VALUE
                        Percentile value for percentile plots.
  --robustness_analysis_sigma_factor ROBUSTNESS_ANALYSIS_SIGMA_FACTOR
                        Factor of standard deviation for normal distribution
                        (ignored otherwise).
  --univariate_sensitivity_ratio UNIVARIATE_SENSITIVITY_RATIO
                        Ratio of extant range or deviation from center, capped
                        between 0.0 and 1.0
  --univariate_sensitivity_flag_range_dependent UNIVARIATE_SENSITIVITY_FLAG_RANGE_DEPENDENT
                        Whether to use &quot;ratio&quot; as ratio of extant range or as
                        deviation from center.
  --univariate_sensitivity_flag_add_reference_response UNIVARIATE_SENSITIVITY_FLAG_ADD_REFERENCE_RESPONSE
                        Whether to display only the deviation from response
  --univariate_sensitivity_flag_mass_normalize UNIVARIATE_SENSITIVITY_FLAG_MASS_NORMALIZE
                        Whether to normalize sensitivity with mass
  --response_contribution_n_trace_points RESPONSE_CONTRIBUTION_N_TRACE_POINTS
                        Number of points along trace from baseline to optimum
  --response_contribution_flag_add_reference_response RESPONSE_CONTRIBUTION_FLAG_ADD_REFERENCE_RESPONSE
                        Whether to display only the deviation from response
  --response_contribution_flag_mass_normalize RESPONSE_CONTRIBUTION_FLAG_MASS_NORMALIZE
                        Whether to normalize sensitivity with mass difference
                        of baseline and optimum
  --response_prediction_csv RESPONSE_PREDICTION_CSV
                        Filepath to csv-file with parameter definitions for
                        response prediction
  --response_prediction_reference_point {baseline,optimum}
                        Reference point to use for features not defined in
                        csv-file (&quot;baseline&quot; or &quot;optimum&quot;)
  --version             show program&#39;s version number and exit
   options
     -h, --help         show this help message and exit
     -v, --version      show version of ACE
</pre></div>
</div>
<p>whereas option <code class="docutils literal notranslate"><span class="pre">--version</span></code> echos the current version of the plugin:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Robustness Analysis 2024.001
</pre></div>
</div>
<p>Note the version of the plugin typically differs from the ACE main version.</p>
<p>The following sections explains the concepts of sensitivity, robustness and
contribution before continuing with the description of the numerous input
arguments/options.</p>
</section>
<section id="sensitivity">
<h3>Sensitivity<a class="headerlink" href="#sensitivity" title="Link to this heading">¶</a></h3>
<p>In ACE, sensitivity represents the change of some quantity caused by a small
variation of one the features (experiment parameters). This quantity can either
be a response (e.g. pressure), a target violation (e.g. in optimization) or,
for example, the mass of the model. Mathematically, sensitivity is commonly
described by the partial derivative of a function/quantity with respect to one
of its arguments/variables (feature).</p>
<p>Instead of computing derivatives exactly, ACE makes a linear approximation by
taking the difference between function value at the evaluation point <span class="math notranslate nohighlight">\((x,
y) = (x_0, y_0)\)</span> and its value at a small distance <span class="math notranslate nohighlight">\(\delta x\)</span> away:</p>
<div class="math notranslate nohighlight" id="equation-derivative">
<span class="eqno">(15)<a class="headerlink" href="#equation-derivative" title="Link to this equation">¶</a></span>\[\frac{\partial f(x,y_0)}{\partial x}\bigg|_{x=x_0} \approx \frac{f(x_0+\delta
x, y_0) - f(x_0, y_0)}{\delta x}\]</div>
<p>Note that sensitivity is a <em>local quantity</em> only valid in the direct vicinity of
its evaluation point <span class="math notranslate nohighlight">\((x_0, y_0)\)</span>.</p>
<p>The robustness study plugin currently supports approximation of the uni-variate
<em>response</em> sensitivity for each of the feature directions by taking a postive
and negative step <span class="math notranslate nohighlight">\(\delta x\)</span> and predicting the corresponding values of
the responses. As in NVH, the response is typically computed over a frequency
range this approximation procedure yields 2 predicted response curves over
frequency.</p>
<p>The response sensitivity being a curve over frequency makes it rather hard to
interpret and compare sensitivities between the different features. For this
reason also an integral response sensitivity is generated by taking the area
(integral) of the difference between the upper and lower predicted responses
curves. This results in a single integral sensitvity value per feature.</p>
<p>By default, the sensitivity evaluation is performed at both baseline point and,
if available, also for the optimum point in the design space, resulting in 2
sensitivity diagrams.</p>
<p><strong>TODO: complete plugin section</strong></p>
</section>
<section id="normalized-sensitivity">
<h3>Normalized sensitivity<a class="headerlink" href="#normalized-sensitivity" title="Link to this heading">¶</a></h3>
<p>A slightly different approach is currently implemented to investigate the
sensitivity (relative change) of the target violation with respect to a small
univariate variation of the feature values in the vicinity of evaluation point.
Depending on the evaluation point <span class="math notranslate nohighlight">\((x_0, y_0)\)</span>, either baseline or the
optimum, the corresponding normalized target violation sensitivity is computed using</p>
<div class="math notranslate nohighlight" id="equation-normalized-target-violation-sensitivity">
<span class="eqno">(16)<a class="headerlink" href="#equation-normalized-target-violation-sensitivity" title="Link to this equation">¶</a></span>\[f_n(x, y_0) \approx \frac{f(x_0+\delta
x, y_0)}{f(x_0, y_0)}\]</div>
<p>A value of 1.0 would mean that a local variation of <span class="math notranslate nohighlight">\(\delta x\)</span> for
feature <span class="math notranslate nohighlight">\(x\)</span> has no influence (target violation remains the same as the
baseline target violation). A value larger than 1.0 would mean the target
violation increases with <span class="math notranslate nohighlight">\(\delta x\)</span>, whereas a negative value would mean
the target violation decreases for an increase by <span class="math notranslate nohighlight">\(\delta x\)</span>. By default
the variation is +/-20% for each feature direction around the evalution point
<span class="math notranslate nohighlight">\((x_0, y_0)\)</span>.  For a simple mass-spring example model, the results around
evaluation points baseline and optimum are shown in FIGURE???</p>
<figure class="align-center" id="id1">
<span id="fig-example-plot-univar-tv-scan"></span><a class="reference internal image-reference" href="../_images/univariate_sensitivity_range_scan_tv.png"><img alt="example plot univariate target violation sensitivity" src="../_images/univariate_sensitivity_range_scan_tv.png" style="width: 800px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 36 </span><span class="caption-text">Univariate normalized target violation sensitivity (file: <code class="docutils literal notranslate"><span class="pre">univariate_sensitivity_range_scan_tv.png</span></code>)</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Note that these target violation are predicted by the selected
ML-model and typically look somewhatr different depending on the nature of the
predictor (e.g. continuous or discrete ML-model). However, if sufficient
samples are available and the selected predictor is able to capture the local
complexity around the evaluation point, the trend in the sensitivity will be
comparable (e.g. detection of local feature importance/ranking).</p>
</section>
<section id="available-options">
<h3>Available options<a class="headerlink" href="#available-options" title="Link to this heading">¶</a></h3>
<p>blablaba</p>
<p>Eamples rst (<strong>TO BE REMOVED</strong>):</p>
<p>For a simple example model, the property type aggregated mass is shown in
<a class="reference internal" href="results_output.html#tab-csv-mass-table-ptype"><span class="std std-numref">Table 2</span></a>.</p>
<span id="tab-csv-mass-table-ptype"></span><table class="docutils align-default" id="id2" style="width: 600px">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">Mass aggregated on property type level (<code class="docutils literal notranslate"><span class="pre">mass_table_baseline_ptype.csv</span></code>)</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 20.0%" />
<col style="width: 10.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>dimension</p></th>
<th class="head"><p>propcard</p></th>
<th class="head"><p>n_elements</p></th>
<th class="head"><p>mass_sm</p></th>
<th class="head"><p>mass_nsm</p></th>
<th class="head"><p>mass_tot</p></th>
<th class="head"><p>label</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>M0D</p></td>
<td><p>PBUSH</p></td>
<td><p>4</p></td>
<td><p>0.000000</p></td>
<td><p>0.000000</p></td>
<td><p>0.000000</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>M0D</p></td>
<td><p>PDUM_CONM2</p></td>
<td><p>1</p></td>
<td><p>0.001000</p></td>
<td><p>0.000000</p></td>
<td><p>0.001000</p></td>
<td><p>dummy property</p></td>
</tr>
<tr class="row-even"><td><p>M2D</p></td>
<td><p>PSHELL</p></td>
<td><p>1048</p></td>
<td><p>0.010258</p></td>
<td><p>0.000000</p></td>
<td><p>0.010258</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>M3D</p></td>
<td><p>PSOLID</p></td>
<td><p>2240</p></td>
<td><p>0.000073</p></td>
<td><p>0.000000</p></td>
<td><p>0.000073</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>SUM</p></td>
<td><p>TOTAL</p></td>
<td><p>3293</p></td>
<td><p>0.011331</p></td>
<td><p>0.000000</p></td>
<td><p>0.011331</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>test picture</p>
<figure class="align-center" id="id3">
<span id="fig-example-plot-pairplot"></span><a class="reference internal image-reference" href="../_images/pairplot_samples.png"><img alt="example plot pairplot" src="../_images/pairplot_samples.png" style="width: 840px;" />
</a>
<figcaption>
<p><span class="caption-number">Fig. 37 </span><span class="caption-text">Pair-plot correlation of all samples (file: <code class="docutils literal notranslate"><span class="pre">pairplot_samples.png</span></code>)</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2025, CDH AG.
      
    </div>

    

    
  </body>
</html>